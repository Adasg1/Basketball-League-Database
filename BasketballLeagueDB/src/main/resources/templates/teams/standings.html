<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Tabela ligowa</title>
</head>
<body>
<h1>Klasyfikacja drużyn</h1>

<form method="get" th:action="@{/teams/standings}">
  <label for="seasonId">Wybierz sezon:</label>
  <select name="seasonId" id="seasonId">
    <option th:each="season : ${seasons}"
            th:value="${season.id}"
            th:text="${season.seasonYear}"
            th:selected="${season.id == selectedSeasonId}">
    </option>
  </select>
  <button type="submit">Pokaż</button>
</form>

<table border="1">
  <thead>
  <tr>
    <th>Drużyna</th>
    <th>Zwycięstwa</th>
    <th>Porażki</th>
    <th>Wygrane u siebie</th>
    <th>Przegrane u siebie</th>
    <th>Wygrane na wyjeździe</th>
    <th>Przegrane na wyjeździe</th>
    <th>% zwycięstw</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="record : ${teamRecords}">
    <td th:text="${record.team.name}">Drużyna</td>
    <td th:text="${record.wins}">0</td>
    <td th:text="${record.losses}">0</td>
    <td th:text="${record.homeWins}">0</td>
    <td th:text="${record.homeLosses}">0</td>
    <td th:text="${record.awayLosses}">0</td>
    <td th:text="${record.awayWins}">0</td>
    <td th:text="${(record.wins + record.losses) > 0 ? (record.wins * 100.0 / (record.wins + record.losses)) : 0} + '%'">%</td>
  </tr>
  </tbody>
</table>
</body>
</html>